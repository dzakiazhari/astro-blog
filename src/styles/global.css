@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:wght@400;500;600;700&display=swap');
@import 'tailwindcss';

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme inline {
  --font-sans:
    'IBM Plex Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI',
    'Noto Sans', sans-serif;
  --font-mono:
    'IBM Plex Mono', 'SFMono-Regular', Menlo, Consolas, 'Liberation Mono',
    monospace;

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-ring: var(--ring);
}

:root,
html[data-theme='light'] {
  --light: #fcf5e4;
  --lightgray: #e4dcc8;
  --gray: #a29583;
  --darkgray: #51463a;
  --dark: #231d16;
  --secondary: #5d8f63;
  --tertiary: #d3a567;
  --accent: color-mix(in srgb, var(--secondary) 90%, white 10%);
  --heading-accent: color-mix(in srgb, var(--secondary) 82%, var(--dark) 18%);
  --highlight: rgba(93, 143, 99, 0.22);
  --text-highlight: rgba(255, 214, 140, 0.45);
  --radius-xs: 2px;
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 12px;

  --body-bg: var(--light);
  --body-text: color-mix(in srgb, var(--dark) 90%, black 10%);
  --muted-text: color-mix(in srgb, var(--gray) 64%, var(--darkgray) 36%);
  --surface-outline: color-mix(in srgb, var(--lightgray) 70%, var(--gray) 30%);
  --surface-outline-strong: color-mix(
    in srgb,
    var(--lightgray) 78%,
    var(--gray) 22%
  );
  --surface-subtle: color-mix(in srgb, var(--light) 92%, white 8%);
  --surface-raised: color-mix(in srgb, var(--light) 96%, white 4%);
  --surface-raised-strong: color-mix(in srgb, var(--light) 88%, white 12%);
  --app-background: color-mix(in srgb, var(--body-bg) 96%, white 4%);
  --border-soft: color-mix(in srgb, var(--surface-outline) 74%, transparent);
  --border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 84%,
    transparent
  );
  --card-border: color-mix(in srgb, var(--surface-outline) 78%, transparent);
  --card-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 88%,
    transparent
  );
  --card-shadow: none;
  --card-shadow-hover: none;
  --divider-soft: color-mix(in srgb, var(--surface-outline) 70%, transparent);
  --divider-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 90%,
    transparent
  );
  --shell-shadow: 0 22px 40px -32px rgba(30, 26, 20, 0.32);
  --header-surface: color-mix(in srgb, var(--light) 96%, white 4%);
  --header-divider: color-mix(in srgb, var(--lightgray) 62%, var(--gray) 38%);
  --header-shadow: 0 22px 40px -32px rgba(30, 26, 20, 0.35);
  --sidebar-surface: color-mix(in srgb, var(--light) 94%, white 6%);
  --sidebar-surface-hover: color-mix(in srgb, var(--light) 86%, white 14%);
  --control-surface: color-mix(in srgb, var(--sidebar-surface) 92%, white 8%);
  --control-hover: color-mix(
    in srgb,
    var(--sidebar-surface-hover) 92%,
    white 8%
  );
  --control-border: color-mix(in srgb, var(--surface-outline) 72%, transparent);
  --control-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 82%,
    transparent
  );
  --control-shadow: 0 18px 36px -24px rgba(50, 40, 28, 0.28);
  --nav-surface: #f8f1e6;
  --nav-border: color-mix(in srgb, var(--surface-outline) 78%, transparent);
  --nav-hover-bg: color-mix(
    in srgb,
    var(--sidebar-surface-hover) 92%,
    transparent
  );
  --nav-active-bg: color-mix(
    in srgb,
    var(--secondary) 18%,
    var(--sidebar-surface)
  );
  --nav-text: color-mix(in srgb, var(--muted-text) 82%, var(--body-text) 18%);
  --nav-text-strong: color-mix(in srgb, var(--secondary) 90%, white 10%);
  --link-plain: color-mix(in srgb, var(--secondary) 70%, var(--dark) 30%);
  --link-hover: color-mix(in srgb, var(--tertiary) 60%, var(--secondary) 40%);
  --badge-surface: color-mix(in srgb, var(--highlight) 48%, transparent);
  --badge-border: color-mix(in srgb, var(--surface-outline) 66%, transparent);
  --badge-text: color-mix(in srgb, var(--darkgray) 92%, var(--secondary) 8%);
  --ring-accent: color-mix(in srgb, var(--secondary) 32%, transparent);
  --accent-underline: linear-gradient(
    90deg,
    var(--secondary),
    color-mix(in srgb, var(--secondary) 48%, var(--tertiary))
  );
  --pill-radius: var(--radius-lg);
  --pill-gap: 0.34rem;
  --pill-surface: color-mix(in srgb, var(--surface-raised) 92%, white 8%);
  --pill-hover-surface: color-mix(
    in srgb,
    var(--secondary) 20%,
    var(--pill-surface)
  );
  --pill-active-surface: color-mix(
    in srgb,
    var(--secondary) 30%,
    var(--pill-surface)
  );
  --pill-ghost-surface: color-mix(
    in srgb,
    var(--pill-surface) 58%,
    transparent
  );
  --pill-ghost-hover: color-mix(
    in srgb,
    var(--pill-hover-surface) 72%,
    transparent
  );
  --pill-ghost-active: color-mix(
    in srgb,
    var(--pill-active-surface) 78%,
    transparent
  );
  --pill-border: color-mix(in srgb, var(--surface-outline) 74%, transparent);
  --pill-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 86%,
    transparent
  );
  --pill-text: color-mix(in srgb, var(--muted-text) 76%, var(--body-text) 24%);
  --pill-text-strong: color-mix(in srgb, var(--nav-text-strong) 88%, white 12%);
  --pill-shadow: 0 18px 40px -28px rgba(38, 30, 22, 0.34);
  --pill-font-size: clamp(0.58rem, 0.54rem + 0.1vw, 0.64rem);
  --pill-letter-spacing: 0.2em;
  --card-padding-inline: 1.05rem;
  --card-padding-block: 1.25rem;
  --card-content-gap: 0.95rem;
  --card-meta-size: clamp(0.58rem, 0.54rem + 0.1vw, 0.64rem);
  --card-meta-tracking: 0.22em;
  --card-heading-h2: clamp(1.42rem, 1.26rem + 0.68vw, 1.86rem);
  --card-heading-h3: clamp(1.12rem, 1.02rem + 0.46vw, 1.42rem);
  --card-body-size: clamp(0.88rem, 0.84rem + 0.14vw, 0.98rem);
  --card-body-leading: 1.55;
  --card-footer-size: clamp(0.58rem, 0.54rem + 0.1vw, 0.64rem);
  --card-footer-tracking: 0.2em;
  --card-icon-surface: color-mix(in srgb, var(--surface-raised) 90%, white 10%);
  --card-icon-border: color-mix(
    in srgb,
    var(--surface-outline) 82%,
    transparent
  );
  --card-icon-shadow: 0 20px 44px -30px rgba(38, 30, 22, 0.28);
  --card-icon-shadow-hover: 0 24px 56px -30px rgba(38, 30, 22, 0.34);
  --card-icon-foreground: color-mix(
    in srgb,
    var(--secondary) 82%,
    var(--darkgray) 18%
  );
  --code-card-surface: color-mix(in srgb, var(--surface-raised) 92%, white 8%);
  --code-card-border: color-mix(in srgb, var(--border-strong) 86%, transparent);
  --code-card-shadow: 0 24px 52px -30px rgba(40, 32, 24, 0.28);
  --code-copy-offset: 1.25rem;
  --code-copy-text: color-mix(in srgb, var(--nav-text-strong) 88%, white 12%);
  --code-copy-bg: color-mix(
    in srgb,
    var(--surface-raised-strong) 78%,
    transparent 22%
  );
  --code-copy-border: color-mix(
    in srgb,
    var(--surface-outline-strong) 82%,
    transparent 18%
  );
  --code-copy-hover-bg: color-mix(
    in srgb,
    var(--secondary) 18%,
    var(--surface-raised-strong)
  );
  --code-copy-active-bg: color-mix(
    in srgb,
    var(--secondary) 28%,
    var(--surface-raised-strong)
  );
  --code-copy-ring: color-mix(in srgb, var(--secondary) 68%, white 32%);
  --code-copy-success: color-mix(in srgb, var(--secondary) 90%, white 10%);

  --background: var(--body-bg);
  --foreground: var(--body-text);
  --primary: var(--secondary);
  --primary-foreground: var(--body-bg);
  --muted: var(--surface-subtle);
  --muted-foreground: var(--muted-text);
  --destructive: color-mix(in srgb, var(--tertiary) 80%, white 20%);
  --destructive-foreground: var(--body-bg);
  --border: var(--border-strong);
  --ring: var(--ring-accent);
}

[data-theme='dark'] {
  --light: #201d1a;
  --lightgray: #2b2723;
  --gray: #6a6155;
  --darkgray: #d7ccba;
  --dark: #f8f3e8;
  --secondary: #7dc589;
  --tertiary: #e3b676;
  --accent: color-mix(in srgb, var(--secondary) 88%, rgba(255, 255, 255, 0.18));
  --heading-accent: color-mix(in srgb, var(--secondary) 84%, white 16%);
  --highlight: rgba(125, 197, 137, 0.22);
  --text-highlight: rgba(255, 188, 120, 0.35);

  --body-bg: #1f1d1a;
  --body-text: #d7ccba;
  --muted-text: #9b907f;
  --surface-outline: color-mix(
    in srgb,
    var(--lightgray) 56%,
    rgba(0, 0, 0, 0.38)
  );
  --surface-outline-strong: color-mix(
    in srgb,
    var(--lightgray) 64%,
    rgba(0, 0, 0, 0.32)
  );
  --surface-subtle: color-mix(
    in srgb,
    var(--lightgray) 72%,
    rgba(0, 0, 0, 0.3)
  );
  --surface-raised: color-mix(
    in srgb,
    var(--lightgray) 70%,
    rgba(0, 0, 0, 0.28)
  );
  --surface-raised-strong: color-mix(
    in srgb,
    var(--lightgray) 60%,
    rgba(0, 0, 0, 0.34)
  );
  --app-background: color-mix(in srgb, var(--body-bg) 92%, rgba(0, 0, 0, 0.08));
  --border-soft: color-mix(in srgb, var(--surface-outline) 68%, transparent);
  --border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 82%,
    transparent
  );
  --card-border: color-mix(
    in srgb,
    var(--surface-outline) 86%,
    rgba(255, 255, 255, 0.12)
  );
  --card-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 90%,
    rgba(255, 255, 255, 0.16)
  );
  --card-shadow: none;
  --card-shadow-hover: none;
  --divider-soft: color-mix(in srgb, var(--surface-outline) 66%, transparent);
  --divider-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 86%,
    transparent
  );
  --shell-shadow: 0 24px 44px -30px rgba(0, 0, 0, 0.6);
  --header-surface: color-mix(
    in srgb,
    var(--lightgray) 84%,
    rgba(0, 0, 0, 0.18)
  );
  --header-divider: color-mix(in srgb, var(--surface-outline) 78%, transparent);
  --header-shadow: 0 24px 44px -30px rgba(0, 0, 0, 0.62);
  --sidebar-surface: color-mix(
    in srgb,
    var(--lightgray) 72%,
    rgba(0, 0, 0, 0.3)
  );
  --sidebar-surface-hover: color-mix(
    in srgb,
    var(--lightgray) 78%,
    rgba(0, 0, 0, 0.24)
  );
  --control-surface: color-mix(in srgb, var(--nav-surface) 90%, transparent);
  --control-hover: color-mix(
    in srgb,
    var(--nav-surface-strong) 90%,
    transparent
  );
  --control-border: color-mix(in srgb, var(--surface-outline) 70%, transparent);
  --control-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 80%,
    transparent
  );
  --control-shadow: 0 22px 42px -28px rgba(0, 0, 0, 0.58);
  --nav-surface: #1b1915;
  --nav-surface-strong: #221f1a;
  --nav-border: #383024;
  --nav-hover-bg: color-mix(
    in srgb,
    var(--nav-surface-strong) 92%,
    transparent
  );
  --nav-active-bg: color-mix(in srgb, var(--secondary) 20%, var(--nav-surface));
  --nav-text: color-mix(in srgb, var(--body-text) 82%, var(--muted-text) 18%);
  --nav-text-strong: color-mix(
    in srgb,
    var(--secondary) 78%,
    var(--body-text) 22%
  );
  --link-plain: color-mix(in srgb, var(--secondary) 66%, var(--body-text) 34%);
  --link-hover: color-mix(in srgb, var(--tertiary) 58%, var(--secondary) 42%);
  --badge-surface: color-mix(
    in srgb,
    var(--highlight) 62%,
    rgba(0, 0, 0, 0.35)
  );
  --badge-border: color-mix(in srgb, var(--surface-outline) 70%, transparent);
  --badge-text: color-mix(in srgb, var(--body-text) 88%, rgba(0, 0, 0, 0.12));
  --ring-accent: color-mix(in srgb, var(--secondary) 38%, rgba(0, 0, 0, 0.4));
  --pill-surface: color-mix(
    in srgb,
    var(--nav-surface) 88%,
    rgba(255, 255, 255, 0.08)
  );
  --pill-hover-surface: color-mix(
    in srgb,
    var(--secondary) 26%,
    var(--pill-surface)
  );
  --pill-active-surface: color-mix(
    in srgb,
    var(--secondary) 36%,
    var(--pill-surface)
  );
  --pill-ghost-surface: color-mix(
    in srgb,
    var(--pill-surface) 46%,
    transparent
  );
  --pill-ghost-hover: color-mix(
    in srgb,
    var(--pill-hover-surface) 66%,
    transparent
  );
  --pill-ghost-active: color-mix(
    in srgb,
    var(--pill-active-surface) 72%,
    transparent
  );
  --pill-border: color-mix(in srgb, var(--surface-outline) 76%, transparent);
  --pill-border-strong: color-mix(
    in srgb,
    var(--surface-outline-strong) 88%,
    transparent
  );
  --pill-text: color-mix(in srgb, var(--muted-text) 72%, var(--body-text) 28%);
  --pill-text-strong: color-mix(in srgb, var(--heading-accent) 86%, white 14%);
  --pill-shadow: 0 22px 48px -32px rgba(0, 0, 0, 0.54);
  --card-icon-surface: color-mix(
    in srgb,
    var(--nav-surface-strong) 88%,
    rgba(255, 255, 255, 0.08)
  );
  --card-icon-border: color-mix(
    in srgb,
    var(--surface-outline) 82%,
    transparent
  );
  --card-icon-shadow: 0 26px 54px -32px rgba(0, 0, 0, 0.62);
  --card-icon-shadow-hover: 0 32px 64px -32px rgba(0, 0, 0, 0.68);
  --card-icon-foreground: color-mix(in srgb, var(--secondary) 86%, white 14%);
  --code-card-surface: color-mix(
    in srgb,
    var(--nav-surface-strong) 88%,
    rgba(255, 255, 255, 0.05)
  );
  --code-card-border: color-mix(
    in srgb,
    var(--border-strong) 82%,
    rgba(255, 255, 255, 0.1)
  );
  --code-card-shadow: 0 28px 56px -34px rgba(0, 0, 0, 0.58);
  --code-copy-offset: 1.15rem;
  --code-copy-text: color-mix(in srgb, var(--heading-accent) 84%, white 16%);
  --code-copy-bg: color-mix(
    in srgb,
    var(--nav-surface-strong) 88%,
    rgba(255, 255, 255, 0.08)
  );
  --code-copy-border: color-mix(
    in srgb,
    var(--surface-outline-strong) 86%,
    transparent 14%
  );
  --code-copy-hover-bg: color-mix(
    in srgb,
    var(--secondary) 24%,
    var(--code-card-surface)
  );
  --code-copy-active-bg: color-mix(
    in srgb,
    var(--secondary) 36%,
    var(--code-card-surface)
  );
  --code-copy-ring: color-mix(in srgb, var(--secondary) 74%, white 26%);
  --code-copy-success: color-mix(in srgb, var(--secondary) 92%, white 8%);

  --background: var(--body-bg);
  --foreground: var(--body-text);
  --primary: var(--secondary);
  --primary-foreground: var(--body-bg);
  --muted: var(--surface-subtle);
  --muted-foreground: var(--muted-text);
  --destructive: color-mix(in srgb, var(--tertiary) 24%, var(--body-bg));
  --destructive-foreground: var(--body-text);
  --border: var(--border-strong);
  --ring: var(--ring-accent);
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    @apply border-border outline-ring/50 tracking-tight;
  }
}
