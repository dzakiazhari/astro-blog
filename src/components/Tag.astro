---
import IconHash from "@/assets/icons/IconHash.svg";

export interface Props {
  tag: string;
  tagName: string;
  size?: "sm" | "lg";
  prefetch?: "auto" | "hover" | "tap" | "viewport" | "load" | false;
}

const { tag, tagName, size = "sm", prefetch = "hover" } = Astro.props;

const prefetchAttr = prefetch === false ? "false" : prefetch;
---

<li class="my-1 me-1 inline-block">
  <a
    href={`/tags/${tag}/`}
    transition:name={tag}
    class:list={[
      "inline-flex items-center gap-1.5 rounded-none border border-[var(--border-soft)] bg-transparent px-2.5 py-1 text-[color:var(--muted-text)] transition duration-150 ease-out",
      "hover:border-[color:var(--border-strong)] hover:text-[color:var(--nav-text-strong)] focus-visible:ring-2 focus-visible:ring-[color:var(--ring-accent)] focus-visible:outline-none",
      size === "sm"
        ? "text-[0.65rem] font-semibold tracking-[0.26em] uppercase"
        : "px-3 py-1.5 text-xs font-semibold tracking-[0.24em] uppercase",
    ]}
    data-astro-prefetch={prefetchAttr}
  >
    <IconHash
      class:list={[
        "inline-block text-[color:var(--nav-text-strong)] transition",
        size === "sm" ? "size-2.5" : "size-3.5",
      ]}
    />
    <span>{tagName}</span>
  </a>
</li>
